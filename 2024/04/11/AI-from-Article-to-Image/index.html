

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/board.png">
  <link rel="icon" href="/img/board.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Tenth-crew">
  <meta name="keywords" content="">
  
    <meta name="description" content="在如今的数字化时代，大量的文本内容被创建和共享。然而，有时候文字无法直观地传达信息，而图像则能够更好地传达复杂的概念和情感。本项目旨在利用人工智能技术，将给定的文章转化为相应的图像，以提供更直观和易于理解的信息传递方式。">
<meta property="og:type" content="article">
<meta property="og:title" content="AI: from Article to Image">
<meta property="og:url" content="http://tenth-crew.github.io/2024/04/11/AI-from-Article-to-Image/index.html">
<meta property="og:site_name" content="Tenth-crew Blog">
<meta property="og:description" content="在如今的数字化时代，大量的文本内容被创建和共享。然而，有时候文字无法直观地传达信息，而图像则能够更好地传达复杂的概念和情感。本项目旨在利用人工智能技术，将给定的文章转化为相应的图像，以提供更直观和易于理解的信息传递方式。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/39023202/1711167956115-0b6efed3-0ef9-4b72-ac01-9a02f9a002a3.png#averageHue=%23e8cca8&clientId=u50a7ec6c-5997-4&from=paste&height=657&id=u7bdbd575&originHeight=657&originWidth=1572&originalType=binary&ratio=1&rotation=0&showTitle=false&size=154334&status=done&style=none&taskId=u222f2e91-6ebe-4feb-969b-dc8ffe3910c&title=&width=1572">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/39023202/1711170405210-6ba5cf0c-5376-43fa-88b1-e99ccd85bcee.png#averageHue=%23f7f7f7&clientId=u50a7ec6c-5997-4&from=paste&height=460&id=u6ecf219e&originHeight=460&originWidth=696&originalType=binary&ratio=1&rotation=0&showTitle=false&size=24533&status=done&style=none&taskId=ub7af935a-e335-424d-9e85-ffd5115127f&title=&width=696">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/39023202/1711170843079-a83c85d4-dc9b-4a2f-b195-ec8f0b4c2890.png#averageHue=%23886349&clientId=u50a7ec6c-5997-4&from=drop&id=uc93bb845&originHeight=512&originWidth=512&originalType=binary&ratio=1&rotation=0&showTitle=false&size=401120&status=done&style=none&taskId=u758de0e1-4c35-4821-b7c1-2bce5d73fe1&title=">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2024/png/39023202/1711181949497-e2244ba9-757e-4113-ae58-a21a18e72006.png#averageHue=%23966f56&clientId=u0637c5e0-7f23-4&from=drop&id=uaa754c8b&originHeight=1010&originWidth=714&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1155849&status=done&style=none&taskId=u0456bfae-7d70-484b-ae10-46de659638a&title=">
<meta property="article:published_time" content="2024-04-11T06:08:32.000Z">
<meta property="article:modified_time" content="2024-04-11T06:31:57.147Z">
<meta property="article:author" content="Tenth-crew">
<meta property="article:tag" content="study">
<meta property="article:tag" content="report">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://cdn.nlark.com/yuque/0/2024/png/39023202/1711167956115-0b6efed3-0ef9-4b72-ac01-9a02f9a002a3.png#averageHue=%23e8cca8&clientId=u50a7ec6c-5997-4&from=paste&height=657&id=u7bdbd575&originHeight=657&originWidth=1572&originalType=binary&ratio=1&rotation=0&showTitle=false&size=154334&status=done&style=none&taskId=u222f2e91-6ebe-4feb-969b-dc8ffe3910c&title=&width=1572">
  
  
  
  <title>AI: from Article to Image - Tenth-crew Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"tenth-crew.github.io","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Tenth-crew Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/postimg.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="AI: from Article to Image"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-04-11 14:08" pubdate>
          2024年4月11日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          645 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          6 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">AI: from Article to Image</h1>
            
            
              <div class="markdown-body">
                
                <meta name="referrer" content="no-referrer"/>

<p>在如今的数字化时代，大量的文本内容被创建和共享。然而，有时候文字无法直观地传达信息，而图像则能够更好地传达复杂的概念和情感。本项目旨在利用人工智能技术，将给定的文章转化为相应的图像，以提供更直观和易于理解的信息传递方式。</p>
<span id="more"></span>

<h2 id="1-项目设计"><a href="#1-项目设计" class="headerlink" title="1.项目设计"></a>1.项目设计</h2><h3 id="1-1-项目背景和目标"><a href="#1-1-项目背景和目标" class="headerlink" title="1.1 项目背景和目标"></a>1.1 项目背景和目标</h3><p>在如今的数字化时代，大量的文本内容被创建和共享。然而，有时候文字无法直观地传达信息，而图像则能够更好地传达复杂的概念和情感。本项目旨在利用人工智能技术，将给定的文章转化为相应的图像，以提供更直观和易于理解的信息传递方式。</p>
<h3 id="2-技术架构"><a href="#2-技术架构" class="headerlink" title="2 技术架构"></a>2 技术架构</h3><h4 id="2-1-摘要生成"><a href="#2-1-摘要生成" class="headerlink" title="2.1 摘要生成"></a>2.1 摘要生成</h4><p>摘要生成使用的模型是 BART (Bidirectional and Auto-Regressive Transformers)。BART 是一种序列到序列的 Transformer 模型。在实际过程中，我们通过使用 HUgging Face 的“ BartForConditionalGeneration ”类加载了一个预训练的 BART 模型，然后对给定的文章进行摘要生成。</p>
<h4 id="2-2-图片生成"><a href="#2-2-图片生成" class="headerlink" title="2.2 图片生成"></a>2.2 图片生成</h4><p>本项目使用了稳定扩散（Stable Diffusion）模型来生成图像。<br>模型选择了DPMSolverMultistepScheduler来作为稳定扩散模型的调度器。<br><img src="https://cdn.nlark.com/yuque/0/2024/png/39023202/1711167956115-0b6efed3-0ef9-4b72-ac01-9a02f9a002a3.png#averageHue=%23e8cca8&clientId=u50a7ec6c-5997-4&from=paste&height=657&id=u7bdbd575&originHeight=657&originWidth=1572&originalType=binary&ratio=1&rotation=0&showTitle=false&size=154334&status=done&style=none&taskId=u222f2e91-6ebe-4feb-969b-dc8ffe3910c&title=&width=1572" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h4 id="2-3-优化与加载"><a href="#2-3-优化与加载" class="headerlink" title="2.3 优化与加载"></a>2.3 优化与加载</h4><p>使用<strong>Intel</strong>提供的<strong>Bigdl库</strong>低内存模式（low memory mode）来初始化Bart模型，以节省内存。加载了预训练的Bart模型的低位参数。使得运行速度得以提升。</p>
<h4 id="2-4-工作流程"><a href="#2-4-工作流程" class="headerlink" title="2.4 工作流程"></a>2.4 工作流程</h4><p>针对文章数据Article进行文本总结得到Summarize，得到图片生成模型可以理解的 prompt 从而是的图片可以被顺利生成。<br><img src="https://cdn.nlark.com/yuque/0/2024/png/39023202/1711170405210-6ba5cf0c-5376-43fa-88b1-e99ccd85bcee.png#averageHue=%23f7f7f7&clientId=u50a7ec6c-5997-4&from=paste&height=460&id=u6ecf219e&originHeight=460&originWidth=696&originalType=binary&ratio=1&rotation=0&showTitle=false&size=24533&status=done&style=none&taskId=ub7af935a-e335-424d-9e85-ffd5115127f&title=&width=696" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h3 id="3-应用方向"><a href="#3-应用方向" class="headerlink" title="3 应用方向"></a>3 应用方向</h3><p>主要应用方向为文章总结以及文生图，为新闻或者其他文字内容产生合适的配图。例如我们为宇航员在太空骑马进行了配图模拟，模拟结果如下。<br><img src="https://cdn.nlark.com/yuque/0/2024/png/39023202/1711170843079-a83c85d4-dc9b-4a2f-b195-ec8f0b4c2890.png#averageHue=%23886349&clientId=u50a7ec6c-5997-4&from=drop&id=uc93bb845&originHeight=512&originWidth=512&originalType=binary&ratio=1&rotation=0&showTitle=false&size=401120&status=done&style=none&taskId=u758de0e1-4c35-4821-b7c1-2bce5d73fe1&title=" srcset="/img/loading.gif" lazyload alt="astronaut_rides_horse.png"></p>
<h3 id="4-Intel加速"><a href="#4-Intel加速" class="headerlink" title="4 Intel加速"></a>4 Intel加速</h3><p>我们通过使用<strong>Intel</strong>提供的<strong>Bigdl库</strong>低内存模式（low memory mode）来初始化Bart模型，以节省内存。加载了预训练的Bart模型的低位参数。使得运行速度得以提升。以下是我们使用程序运行的演示结果，运行时间24min。<br>首先我们输入如下文章<br>Trump’s lawyers acknowledged Monday that he was struggling to find an insurance company willing to underwrite his $454 million bond. Privately, Trump had been counting on Chubb, which underwrote his $91.6 million bond to cover the E. Jean Carroll judgment, to come through, but the insurance giant informed his attorneys in the last several days that that option was off the table.<br>Trump’s team has sought out wealthy supporters and weighed what assets could be sold – and fast. The presumptive GOP presidential nominee himself has become increasingly concerned about the optics the March 25 deadline could present – especially the prospect that someone whose identity has long been tied to his wealth would confront financial crisis. Trump has continued to privately lash out at the New York Attorney General Letitia James and Judge Arthur Engoron over the matter, these sources told CNN.<br>Shortly before 6:30 a.m. Tuesday, Trump took those grievances public, posting on his social media platform eight times within two hours about the deadline, arguing that he shouldn’t have to put up the money and worrying that he “would be forced to mortgage or sell Great Assets, perhaps at Fire Sale prices, and if and when I win the Appeal, they would be gone.”<br>“Does that make sense? WITCH HUNT. ELECTION INTERFERENCE!” the former president wrote.<br>“These baseless innuendos are pure bullsh*t,” Trump campaign spokesman Steven Cheung said in a statement Tuesday. “President Trump has filed a motion to stay the unjust, unconstitutional, un-American judgment from New York Judge Arthur Engoron in a political Witch Hunt brought by a corrupt Attorney General. A bond of this size would be an abuse of the law, contradict bedrock principals of our Republic, and fundamentally undermine the rule of law in New York.<br>得到如下摘要和图片。<br><img src="https://cdn.nlark.com/yuque/0/2024/png/39023202/1711181949497-e2244ba9-757e-4113-ae58-a21a18e72006.png#averageHue=%23966f56&clientId=u0637c5e0-7f23-4&from=drop&id=uaa754c8b&originHeight=1010&originWidth=714&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1155849&status=done&style=none&taskId=u0456bfae-7d70-484b-ae10-46de659638a&title=" srcset="/img/loading.gif" lazyload alt="b14ed6a16f9a441377523f9572af1804.png"></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/study/" class="print-no-link">#study</a>
      
        <a href="/tags/report/" class="print-no-link">#report</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>AI: from Article to Image</div>
      <div>http://tenth-crew.github.io/2024/04/11/AI-from-Article-to-Image/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Tenth-crew</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2024年4月11日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/04/11/%E6%95%B0%E6%8D%AE%E9%9B%86%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C%E7%A0%94%E7%A9%B6/" title="数据集论文写作研究">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">数据集论文写作研究</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/04/11/OpenRank/" title="OpenRank">
                        <span class="hidden-mobile">OpenRank</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
